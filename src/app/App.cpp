/**
 **************************************************************************************************
 *
 * @file    : App.cpp
 * @author  : Oussama Darouez
 * @version : 1.0
 * @date    : February 2024
 * @brief   : App Base Class Implementation
 * 
 **************************************************************************************************
 */

/*-----------------------------------------------------------------------------------------------*/
/* Includes                                                                                      */
/*-----------------------------------------------------------------------------------------------*/
#include "App.h"

/*-----------------------------------------------------------------------------------------------*/
/* Public methods                                                                                */
/*-----------------------------------------------------------------------------------------------*/
/**************************************************************************************************
  * @brief      Constructor
  * @return     Nothing
  ********************************************************************************************** */
App::App() : isRunning(false) {
}

/**************************************************************************************************
  * @brief      Destructor
  * @return     Nothing
  ********************************************************************************************** */
App::~App() {
  if (isRunning) {
    stop();
  }
}

/**************************************************************************************************
  * @brief      Run application
  * @return     Nothing
  ********************************************************************************************** */
void App::run() {
  if (!isRunning) {
    onStart();
    isRunning = true;
    
    while (isRunning) {
      onLoop();
    }
  }
}

/**************************************************************************************************
  * @brief      Stop application
  * @return     true if stop successful
  ********************************************************************************************** */
bool App::stop() {
  if (isRunning) {
    isRunning = false;
    return true;
  }
  return false;
} 